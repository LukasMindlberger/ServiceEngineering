<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" type="text/css"
	href="lib/bootstrap/dist/css/bootstrap.css">
<link href="src/css/responsive.css" rel="stylesheet">
<link href="src/css/style.css" rel="stylesheet">
<script src="lib/angular/angular.js" type="text/javascript"></script>
<script src="lib/angular-bootstrap/ui-bootstrap-tpls.js"
	type="text/javascript"></script>
<script src="src/js/main.js" type="text/javascript"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"
	type="text/javascript"></script>
<script
	src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"
	type="text/javascript"></script>
<script
	src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-sanitize.js"
	type="text/javascript"></script>
<script
	src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-2.2.0.js"
	type="text/javascript"></script>
<script src="//lib/angular-bootstrap/ui-bootstrap.js"></script>

<link href="src/css/main.css" rel="stylesheet">

<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="lib/bootstrap/js/hover.zoom.js"></script>
<script src="lib/bootstrap/js/hover.zoom.conf.js"></script>

<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body ng-app="blogService">
	<div ng-controller="BlogController as blog">
	
		<div class="topbar">
      		<div class="container">
        		<div class="row">
          			<div class="col-xs-6">
          				<h1 ng-click="blog.selectTab('blog')">{{blog.title}}</h1>
          			</div>
          			<div class="col-xs-6">
            			<nav role='navigation' class="push-right">
              				<ul>
              					<button class="btn btn-primary" ng-model="login" ng-click="blog.selectTab('login')" required>Login</button>
              					<button class="btn btn-primary" ng-model="logout">Logout</button><br>
              					<button class="btn btn-primary" ng-model="newPost" ng-click="blog.selectTab('new')">Add new Post</button>
              					<button class="btn btn-primary" ng-model="showPosts" ng-click="blog.selectTab('blog')">Show Posts</button>
              					<button class="btn btn-primary" ng-model="createGroup" ng-click="blog.selectTab('newGroup')">Create Group</button>
              				</ul>
            			</nav>
          			</div>		
          		</div>
          	</div>
        </div>
        
        <div class="content">
        	<div class="container">
				<!-- all posts -->
        		<div class="row">
        			<ul class="post-grid" ng-show="blog.isSelected('blog')">
        				<li ng-repeat="post in blog.posts" class="col-s-4" ng-class="{ 'reset-s' : $index%3==0 }" ng-click="blog.selectTab($index)">
							<a>
								<h3>{{post.title}}</h3>
								<p>{{post.body[0] | limitTo:70}}</p>
								<p>Comments: {{post.comments.length}}</p>
								<p>Likes: {{post.likes}}</p></a>
        				</li>
					</ul>
					
					
					<div ng-repeat="post in blog.posts" ng-show="blog.isSelected($index)">
						<div>
							<h2>{{post.title}}</h2>
							<cite>by {{post.author}} on {{post.createdOn | date}}</cite>
							<div class="post-body">
								<p ng-repeat="text in post.body">{{text}}</p>
								<h3>Comments: </h3>
								<div ng-repeat="comment in post.comments">
									{{comment.body}} - <cite>{{comment.author}}</cite>
								</div>
							</div>
						</div>
					</div>
        		</div>
				
				<div ng-show="blog.isSelected('login')">
					<h2>Login</h2>
					<p>Username: <input type="text" ng-model="username"></p>
					<p>Password: <input type="text" ng-model="password"></p>
					<button class="btn btn-primary" ng-model="loginButton" required>Login</button>
					<h2>Register</h2>
					<p>Username: <input type="text" ng-model="blog.newUsername"></p>
					<p>Password: <input type="password" ng-model="blog.newPassword"></p>
					<p>Repeat password: <input type="password2" ng-model="blog.newPassword2"></p>
					<p>Email Address: <input type="email" ng-model="blog.newEmail"></p>
					<button class="btn btn-primary" ng-model="registerButton" ng-click="blog.registrate()">Register</button>
				</div>

				<div ng-submit="blog.addPost()" ng-show="blog.isSelected('new')">
					<h2>Add a new Post</h2><br>
					<p>Title: <input type="text" ng-model="blog.post.title"></p>
					<p>Content: <textarea ng-model="blog.post.body" rows="5"></textarea></p>
					<p>Private group: <input type="checkbox" ng-model="blog.privateGroup"></p>
					<!-- todo -->
				</div>
				
				<div ng-show="blog.isSelected('newGroup')">
					<h2>Create a new group</h2>
					<p>Title: <input type="text" ng-model="newGroupTitle"></p>
					<p>Members: <input type="text" ng-model="blog.newMember"></p>
						<button class="btn btn-primary" ng-model="addMember" ng-click="blog.addMember(blog.newMember)">Add member</button>
						<div ng-repeat="mems in blog.members">{{mems}}</div>
						<!-- delete User -->
				</div>
				
				
				
			</div>
        </div>
	</div>
	
</body>
</html>